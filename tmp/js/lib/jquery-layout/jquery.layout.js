/**
 * @preserve jquery.layout 1.3.0 - Release Candidate 30.61
 * $Date: 2012-08-04 08:00:00 (Sat, 04 Aug 2012) $
 * $Rev: 303006 $
 *
 * Copyright (c) 2012
 *   Fabrizio Balliano (http://www.fabrizioballiano.net)
 *   Kevin Dalman (http://allpro.net)
 *
 * Dual licensed under the GPL (http://www.gnu.org/licenses/gpl.html)
 * and MIT (http://www.opensource.org/licenses/mit-license.php) licenses.
 *
 * Changelog: http://layout.jquery-dev.net/changelog.cfm#1.3.0.rc30.61
 * NOTE: This is a short-term release to patch a couple of bugs.
 * These bugs are listed as officially fixed in RC30.7, which will be released shortly.
 *
 * Docs: http://layout.jquery-dev.net/documentation.html
 * Tips: http://layout.jquery-dev.net/tips.html
 * Help: http://groups.google.com/group/jquery-ui-layout
 */

/**
     * jquery.layout.state 1.0
     * $Date: 2011-07-16 08:00:00 (Sat, 16 July 2011) $
     *
     * Copyright (c) 2010
     *   Kevin Dalman (http://allpro.net)
     *
     * Dual licensed under the GPL (http://www.gnu.org/licenses/gpl.html)
     * and MIT (http://www.opensource.org/licenses/mit-license.php) licenses.
     *
     * @dependancies: UI Layout 1.3.0.rc30.1 or higher
     * @dependancies: $.ui.cookie (above)
     *
     * @support: http://groups.google.com/group/jquery-ui-layout
     */

/**
     * jquery.layout.buttons 1.0
     * $Date: 2011-07-16 08:00:00 (Sat, 16 July 2011) $
     *
     * Copyright (c) 2010
     *   Kevin Dalman (http://allpro.net)
     *
     * Dual licensed under the GPL (http://www.gnu.org/licenses/gpl.html)
     * and MIT (http://www.opensource.org/licenses/mit-license.php) licenses.
     *
     * @dependancies: UI Layout 1.3.0.rc30.1 or higher
     *
     * @support: http://groups.google.com/group/jquery-ui-layout
     *
     * Docs: [ to come ]
     * Tips: [ to come ]
     */

/**
     * jquery.layout.browserZoom 1.0
     * $Date: 2011-12-29 08:00:00 (Thu, 29 Dec 2011) $
     *
     * Copyright (c) 2012
     *   Kevin Dalman (http://allpro.net)
     *
     * Dual licensed under the GPL (http://www.gnu.org/licenses/gpl.html)
     * and MIT (http://www.opensource.org/licenses/mit-license.php) licenses.
     *
     * @dependancies: UI Layout 1.3.0.rc30.1 or higher
     *
     * @support: http://groups.google.com/group/jquery-ui-layout
     *
     * @todo: Extend logic to handle other problematic zooming in browsers
     * @todo: Add hotkey/mousewheel bindings to _instantly_ respond to these zoom event
     */

(function($){var min=Math.min,max=Math.max,round=Math.floor,isStr=function(e){return $.type(e)==="string"},runPluginCallbacks=function(Instance,a_fn){if($.isArray(a_fn))for(var i=0,c=a_fn.length;i<c;i++){var fn=a_fn[i];try{isStr(fn)&&(fn=eval(fn)),$.isFunction(fn)&&fn(Instance)}catch(ex){}}};$.layout={version:"1.3.rc30.6",revision:.033006,browser:{mozilla:!!$.browser.mozilla,webkit:!!$.browser.webkit||!!$.browser.safari,msie:!!$.browser.msie,isIE6:$.browser.msie&&$.browser.version==6,boxModel:$.support.boxModel!==!1||!$.browser.msie,version:$.browser.version},effects:{slide:{all:{duration:"fast"},north:{direction:"up"},south:{direction:"down"},east:{direction:"right"},west:{direction:"left"}},drop:{all:{duration:"slow"},north:{direction:"up"},south:{direction:"down"},east:{direction:"right"},west:{direction:"left"}},scale:{all:{duration:"fast"}},blind:{},clip:{},explode:{},fade:{},fold:{},puff:{},size:{all:{easing:"swing"}}},config:{optionRootKeys:"effects,panes,north,south,west,east,center".split(","),allPanes:"north,south,west,east,center".split(","),borderPanes:"north,south,west,east".split(","),oppositeEdge:{north:"south",south:"north",east:"west",west:"east"},offscreenCSS:{left:"-99999px",right:"auto"},offscreenReset:"offscreenReset",hidden:{visibility:"hidden"},visible:{visibility:"visible"},resizers:{cssReq:{position:"absolute",padding:0,margin:0,fontSize:"1px",textAlign:"left",overflow:"hidden"},cssDemo:{background:"#DDD",border:"none"}},togglers:{cssReq:{position:"absolute",display:"block",padding:0,margin:0,overflow:"hidden",textAlign:"center",fontSize:"1px",cursor:"pointer",zIndex:1},cssDemo:{background:"#AAA"}},content:{cssReq:{position:"relative"},cssDemo:{overflow:"auto",padding:"10px"},cssDemoPane:{overflow:"hidden",padding:0}},panes:{cssReq:{position:"absolute",margin:0},cssDemo:{padding:"10px",background:"#FFF",border:"1px solid #BBB",overflow:"auto"}},north:{side:"Top",sizeType:"Height",dir:"horz",cssReq:{top:0,bottom:"auto",left:0,right:0,width:"auto"}},south:{side:"Bottom",sizeType:"Height",dir:"horz",cssReq:{top:"auto",bottom:0,left:0,right:0,width:"auto"}},east:{side:"Right",sizeType:"Width",dir:"vert",cssReq:{left:"auto",right:0,top:"auto",bottom:"auto",height:"auto"}},west:{side:"Left",sizeType:"Width",dir:"vert",cssReq:{left:0,right:"auto",top:"auto",bottom:"auto",height:"auto"}},center:{dir:"center",cssReq:{left:"auto",right:"auto",top:"auto",bottom:"auto",height:"auto",width:"auto"}}},callbacks:{},getParentPaneElem:function(e){var t=$(e),n=t.data("layout")||t.data("parentLayout");if(n){var r=n.container;if(r.data("layoutPane"))return r;var i=r.closest("."+$.layout.defaults.panes.paneClass);if(i.data("layoutPane"))return i}return null},getParentPaneInstance:function(e){var t=$.layout.getParentPaneElem(e);return t?t.data("layoutPane"):null},getParentLayoutInstance:function(e){var t=$.layout.getParentPaneElem(e);return t?t.data("parentLayout"):null},getEventObject:function(e){return typeof e=="object"&&e.stopPropagation?e:null},parsePaneName:function(e){var t=$.layout.getEventObject(e);return t?(t.stopPropagation(),$(this).data("layoutEdge")):e},plugins:{draggable:!!$.fn.draggable,effects:{core:!!$.effects,slide:$.effects&&$.effects.slide}},onCreate:[],onLoad:[],onReady:[],onDestroy:[],onUnload:[],afterOpen:[],afterClose:[],scrollbarWidth:function(){return window.scrollbarWidth||$.layout.getScrollbarSize("width")},scrollbarHeight:function(){return window.scrollbarHeight||$.layout.getScrollbarSize("height")},getScrollbarSize:function(e){var t=$('<div style="position: absolute; top: -10000px; left: -10000px; width: 100px; height: 100px; overflow: scroll;"></div>').appendTo("body"),n={width:t.width()-t[0].clientWidth,height:t.height()-t[0].clientHeight};return t.remove(),window.scrollbarWidth=n.width,window.scrollbarHeight=n.height,e.match(/^(width|height)$/)?n[e]:n},showInvisibly:function(e,t){if(!e)return{};e.jquery||(e=$(e));var n={display:e.css("display"),visibility:e.css("visibility")};return t||n.display==="none"?(e.css({display:"block",visibility:"hidden"}),n):{}},getElementDimensions:function(e){var t={},n=t.css={},r={},i,s,o=$.layout.cssNum,u=e.offset();return t.offsetLeft=u.left,t.offsetTop=u.top,$.each("Left,Right,Top,Bottom".split(","),function(o,u){i=n["border"+u]=$.layout.borderWidth(e,u),s=n["padding"+u]=$.layout.cssNum(e,"padding"+u),r[u]=i+s,t["inset"+u]=s}),t.offsetWidth=e.innerWidth(),t.offsetHeight=e.innerHeight(),t.outerWidth=e.outerWidth(),t.outerHeight=e.outerHeight(),t.innerWidth=max(0,t.outerWidth-r.Left-r.Right),t.innerHeight=max(0,t.outerHeight-r.Top-r.Bottom),n.width=e.width(),n.height=e.height(),n.top=o(e,"top",!0),n.bottom=o(e,"bottom",!0),n.left=o(e,"left",!0),n.right=o(e,"right",!0),t},getElementCSS:function(e,t){var n={},r=e[0].style,i=t.split(","),s="Top,Bottom,Left,Right".split(","),o="Color,Style,Width".split(","),u,a,f,l,c,h;for(l=0;l<i.length;l++){u=i[l];if(u.match(/(border|padding|margin)$/))for(c=0;c<4;c++){a=s[c];if(u==="border")for(h=0;h<3;h++)f=o[h],n[u+a+f]=r[u+a+f];else n[u+a]=r[u+a]}else n[u]=r[u]}return n},cssWidth:function(e,t){if(t<=0)return 0;if(!$.layout.browser.boxModel)return t;var n=$.layout.borderWidth,r=$.layout.cssNum,i=t-n(e,"Left")-n(e,"Right")-r(e,"paddingLeft")-r(e,"paddingRight");return max(0,i)},cssHeight:function(e,t){if(t<=0)return 0;if(!$.layout.browser.boxModel)return t;var n=$.layout.borderWidth,r=$.layout.cssNum,i=t-n(e,"Top")-n(e,"Bottom")-r(e,"paddingTop")-r(e,"paddingBottom");return max(0,i)},cssNum:function(e,t,n){e.jquery||(e=$(e));var r=$.layout.showInvisibly(e),i=$.css(e[0],t,!0),s=n&&i=="auto"?i:parseInt(i,10)||0;return e.css(r),s},borderWidth:function(e,t){e.jquery&&(e=e[0]);var n="border"+t.substr(0,1).toUpperCase()+t.substr(1);return $.css(e,n+"Style",!0)==="none"?0:parseInt($.css(e,n+"Width",!0),10)||0},isMouseOverElem:function(e,t){var n=$(t||this),r=n.offset(),i=r.top,s=r.left,o=s+n.outerWidth(),u=i+n.outerHeight(),a=e.pageX,f=e.pageY;return $.layout.browser.msie&&a<0&&f<0||a>=s&&a<=o&&f>=i&&f<=u},msg:function(e,t,n,r){function a(){var e=$.support.fixedPosition?"fixed":"absolute",t=$('<div id="layoutLogger" style="position: '+e+'; top: 5px; z-index: 999999; max-width: 25%; overflow: hidden; border: 1px solid #000; border-radius: 5px; background: #FBFBFB; box-shadow: 0 2px 10px rgba(0,0,0,0.3);">'+'<div style="font-size: 13px; font-weight: bold; padding: 5px 10px; background: #F6F6F6; border-radius: 5px 5px 0 0; cursor: move;">'+'<span style="float: right; padding-left: 7px; cursor: pointer;" title="Remove Console" onclick="$(this).closest(\'#layoutLogger\').remove()">X</span>Layout console.log</div>'+'<ul style="font-size: 13px; font-weight: none; list-style: none; margin: 0; padding: 0 0 2px;"></ul>'+"</div>").appendTo("body");return t.css("left",$(window).width()-t.outerWidth()-5),$.ui.draggable&&t.draggable({handle:":first-child"}),t}if($.isPlainObject(e)&&window.debugData){typeof t=="string"?(r=n,n=t):typeof n=="object"&&(r=n,n=null);var i=n||"log( <object> )",s=$.extend({sort:!1,returnHTML:!1,display:!1},r);t===!0||s.display?debugData(e,i,s):window.console&&console.log(debugData(e,i,s))}else if(t)alert(e);else if(window.console)console.log(e);else{var o="#layoutLogger",u=$(o);u.length||(u=a()),u.children("ul").append('<li style="padding: 4px 10px; margin: 0; border-top: 1px solid #CCC;">'+e.replace(/\</g,"&lt;").replace(/\>/g,"&gt;")+"</li>")}}},$.layout.defaults={name:"",containerSelector:"",containerClass:"ui-layout-container",scrollToBookmarkOnLoad:!0,resizeWithWindow:!0,resizeWithWindowDelay:200,resizeWithWindowMaxDelay:0,onresizeall_start:null,onresizeall_end:null,onload_start:null,onload_end:null,onunload_start:null,onunload_end:null,initPanes:!0,showErrorMessages:!0,showDebugMessages:!1,zIndex:null,zIndexes:{pane_normal:0,content_mask:1,resizer_normal:2,pane_sliding:100,pane_animate:1e3,resizer_drag:1e4},errors:{pane:"pane",selector:"selector",addButtonError:"Error Adding Button \n\nInvalid ",containerMissing:"UI Layout Initialization Error\n\nThe specified layout-container does not exist.",centerPaneMissing:"UI Layout Initialization Error\n\nThe center-pane element does not exist.\n\nThe center-pane is a required element.",noContainerHeight:"UI Layout Initialization Warning\n\nThe layout-container \"CONTAINER\" has no height.\n\nTherefore the layout is 0-height and hence 'invisible'!",callbackError:"UI Layout Callback Error\n\nThe EVENT callback is not a valid function."},panes:{applyDemoStyles:!1,closable:!0,resizable:!0,slidable:!0,initClosed:!1,initHidden:!1,contentSelector:".ui-layout-content",contentIgnoreSelector:".ui-layout-ignore",findNestedContent:!1,paneClass:"ui-layout-pane",resizerClass:"ui-layout-resizer",togglerClass:"ui-layout-toggler",buttonClass:"ui-layout-button",minSize:0,maxSize:0,spacing_open:6,spacing_closed:6,togglerLength_open:50,togglerLength_closed:50,togglerAlign_open:"center",togglerAlign_closed:"center",togglerContent_open:"",togglerContent_closed:"",resizerDblClickToggle:!0,autoResize:!0,autoReopen:!0,resizerDragOpacity:1,maskContents:!1,maskObjects:!1,maskZindex:null,resizingGrid:!1,livePaneResizing:!1,liveContentResizing:!1,liveResizingTolerance:1,sliderCursor:"pointer",slideTrigger_open:"click",slideTrigger_close:"mouseleave",slideDelay_open:300,slideDelay_close:300,hideTogglerOnSlide:!1,preventQuickSlideClose:$.layout.browser.webkit,preventPrematureSlideClose:!1,tips:{Open:"Open",Close:"Close",Resize:"Resize",Slide:"Slide Open",Pin:"Pin",Unpin:"Un-Pin",noRoomToOpen:"Not enough room to show this panel.",minSizeWarning:"Panel has reached its minimum size",maxSizeWarning:"Panel has reached its maximum size"},showOverflowOnHover:!1,enableCursorHotkey:!0,customHotkeyModifier:"SHIFT",fxName:"slide",fxSpeed:null,fxSettings:{},fxOpacityFix:!0,animatePaneSizing:!1,childOptions:null,initChildLayout:!0,destroyChildLayout:!0,resizeChildLayout:!0,triggerEventsOnLoad:!1,triggerEventsDuringLiveResize:!0,onshow_start:null,onshow_end:null,onhide_start:null,onhide_end:null,onopen_start:null,onopen_end:null,onclose_start:null,onclose_end:null,onresize_start:null,onresize_end:null,onsizecontent_start:null,onsizecontent_end:null,onswap_start:null,onswap_end:null,ondrag_start:null,ondrag_end:null},north:{paneSelector:".ui-layout-north",size:"auto",resizerCursor:"n-resize",customHotkey:""},south:{paneSelector:".ui-layout-south",size:"auto",resizerCursor:"s-resize",customHotkey:""},east:{paneSelector:".ui-layout-east",size:200,resizerCursor:"e-resize",customHotkey:""},west:{paneSelector:".ui-layout-west",size:200,resizerCursor:"w-resize",customHotkey:""},center:{paneSelector:".ui-layout-center",minWidth:0,minHeight:0}},$.layout.optionsMap={layout:"stateManagement,effects,zIndexes,errors,name,zIndex,scrollToBookmarkOnLoad,showErrorMessages,resizeWithWindow,resizeWithWindowDelay,resizeWithWindowMaxDelay,onresizeall,onresizeall_start,onresizeall_end,onload,onunload".split(","),center:"paneClass,contentSelector,contentIgnoreSelector,findNestedContent,applyDemoStyles,triggerEventsOnLoad,showOverflowOnHover,maskContents,maskObjects,liveContentResizing,childOptions,initChildLayout,resizeChildLayout,destroyChildLayout,onresize,onresize_start,onresize_end,onsizecontent,onsizecontent_start,onsizecontent_end".split(","),noDefault:"paneSelector,resizerCursor,customHotkey".split(",")},$.layout.transformData=function(e){var t={panes:{},center:{}},n,r,i,s,o,u,a,f;if(typeof e!="object")return t;for(i in e){r=t,n=$.layout.optionsMap.layout,u=e[i],s=i.split("__"),f=s.length-1;for(a=0;a<=f;a++)o=s[a],a===f?r[o]=u:r[o]||(r[o]={}),r=r[o]}return t},$.layout.backwardCompatibility={map:{applyDefaultStyles:"applyDemoStyles",resizeNestedLayout:"resizeChildLayout",resizeWhileDragging:"livePaneResizing",resizeContentWhileDragging:"liveContentResizing",triggerEventsWhileDragging:"triggerEventsDuringLiveResize",maskIframesOnResize:"maskContents",useStateCookie:"stateManagement.enabled","cookie.autoLoad":"stateManagement.autoLoad","cookie.autoSave":"stateManagement.autoSave","cookie.keys":"stateManagement.stateKeys","cookie.name":"stateManagement.cookie.name","cookie.domain":"stateManagement.cookie.domain","cookie.path":"stateManagement.cookie.path","cookie.expires":"stateManagement.cookie.expires","cookie.secure":"stateManagement.cookie.secure",noRoomToOpenTip:"tips.noRoomToOpen",togglerTip_open:"tips.Close",togglerTip_closed:"tips.Open",resizerTip:"tips.Resize",sliderTip:"tips.Slide"},renameOptions:function(e){function o(t,n){var r=t.split("."),i=r.length-1,s={branch:e,key:r[i]},o=0,u,a;for(;o<i;o++)u=r[o],s.branch[u]==undefined?n?s.branch=s.branch[u]={}:s.branch={}:s.branch=s.branch[u];return s}var t=$.layout.backwardCompatibility.map,n,r,i;for(var s in t)n=o(s),i=n.branch[n.key],i!==undefined&&(r=o(t[s],!0),r.branch[r.key]=i,delete n.branch[n.key])},renameAllOptions:function(e){var t=$.layout.backwardCompatibility.renameOptions;return t(e),e.defaults&&(typeof e.panes!="object"&&(e.panes={}),$.extend(!0,e.panes,e.defaults),delete e.defaults),e.panes&&t(e.panes),$.each($.layout.config.allPanes,function(n,r){e[r]&&t(e[r])}),e}},$.fn.layout=function(opts){function keyDown(e){if(!e)return!0;var t=e.keyCode;if(t<33)return!0;var n={38:"north",40:"south",37:"west",39:"east"},r=e.altKey,i=e.shiftKey,s=e.ctrlKey,o=s&&t>=37&&t<=40,u,a,f,l;return o&&options[n[t]].enableCursorHotkey?l=n[t]:(s||i)&&$.each(_c.borderPanes,function(e,n){u=options[n],a=u.customHotkey,f=u.customHotkeyModifier;if(i&&f=="SHIFT"||s&&f=="CTRL"||s&&i)if(a&&t===(isNaN(a)||a<=9?a.toUpperCase().charCodeAt(0):a))return l=n,!1}),!l||!$Ps[l]||!options[l].closable||state[l].isHidden?!0:(toggle(l),e.stopPropagation(),e.returnValue=!1,!1)}function allowOverflow(e){if(!isInitialized())return;this&&this.tagName&&(e=this);var t;isStr(e)?t=$Ps[e]:$(e).data("layoutRole")?t=$(e):$(e).parents().each(function(){if($(this).data("layoutRole"))return t=$(this),!1});if(!t||!t.length)return;var n=t.data("layoutEdge"),r=state[n];r.cssSaved&&resetOverflow(n);if(r.isSliding||r.isResizing||r.isClosed){r.cssSaved=!1;return}var i={zIndex:options.zIndexes.resizer_normal+1},s={},o=t.css("overflow"),u=t.css("overflowX"),a=t.css("overflowY");o!="visible"&&(s.overflow=o,i.overflow="visible"),u&&!u.match(/(visible|auto)/)&&(s.overflowX=u,i.overflowX="visible"),a&&!a.match(/(visible|auto)/)&&(s.overflowY=u,i.overflowY="visible"),r.cssSaved=s,t.css(i),$.each(_c.allPanes,function(e,t){t!=n&&resetOverflow(t)})}function resetOverflow(e){if(!isInitialized())return;this&&this.tagName&&(e=this);var t;isStr(e)?t=$Ps[e]:$(e).data("layoutRole")?t=$(e):$(e).parents().each(function(){if($(this).data("layoutRole"))return t=$(this),!1});if(!t||!t.length)return;var n=t.data("layoutEdge"),r=state[n],i=r.cssSaved||{};!r.isSliding&&!r.isResizing&&t.css("zIndex",options.zIndexes.pane_normal),t.css(i),r.cssSaved=!1}var browser=$.layout.browser,_c=$.layout.config,cssW=$.layout.cssWidth,cssH=$.layout.cssHeight,elDims=$.layout.getElementDimensions,elCSS=$.layout.getElementCSS,evtObj=$.layout.getEventObject,evtPane=$.layout.parsePaneName,options=$.extend(!0,{},$.layout.defaults),effects=options.effects=$.extend(!0,{},$.layout.effects),state={id:"layout"+$.now(),initialized:!1,container:{},north:{},south:{},east:{},west:{},center:{}},children={north:null,south:null,east:null,west:null,center:null},timer={data:{},set:function(e,t,n){timer.clear(e),timer.data[e]=setTimeout(t,n)},clear:function(e){var t=timer.data;t[e]&&(clearTimeout(t[e]),delete t[e])}},_log=function(e,t,n){var r=options;return(r.showErrorMessages&&!n||n&&r.showDebugMessages)&&$.layout.msg(r.name+" / "+e,t!==!1),!1},_runCallbacks=function(evtName,pane,skipBoundEvents){var paneCB=pane&&isStr(pane),s=paneCB?state[pane]:state,o=paneCB?options[pane]:options,lName=options.name,lng=evtName+(evtName.match(/_/)?"":"_end"),shrt=lng.match(/_end$/)?lng.substr(0,lng.length-4):"",fn=o[lng]||o[shrt],retVal="NC",args=[],$P;!paneCB&&$.type(skipBoundEvents)!=="boolean"&&(skipBoundEvents=pane);if(fn)try{isStr(fn)&&(fn.match(/,/)?(args=fn.split(","),fn=eval(args[0])):fn=eval(fn)),$.isFunction(fn)&&(args.length?retVal=fn(args[1]):paneCB?retVal=fn(pane,$Ps[pane],s,o,lName):retVal=fn(Instance,s,o,lName))}catch(ex){_log(options.errors.callbackError.replace(/EVENT/,$.trim(pane+" "+lng)),!1)}return!skipBoundEvents&&retVal!==!1&&(paneCB?($P=$Ps[pane],o=options[pane],s=state[pane],$P.triggerHandler("layoutpane"+lng,[pane,$P,s,o,lName]),shrt&&$P.triggerHandler("layoutpane"+shrt,[pane,$P,s,o,lName])):($N.triggerHandler("layout"+lng,[Instance,s,o,lName]),shrt&&$N.triggerHandler("layout"+shrt,[Instance,s,o,lName]))),(evtName==="onresize_end"||evtName==="onsizecontent_end")&&resizeChildLayout(pane),retVal},_fixIframe=function(e){if(browser.mozilla)return;var t=$Ps[e];state[e].tagName==="IFRAME"?t.css(_c.hidden).css(_c.visible):t.find("IFRAME").css(_c.hidden).css(_c.visible)},cssSize=function(e,t){var n=_c[e].dir=="horz"?cssH:cssW;return n($Ps[e],t)},cssMinDims=function(e){var t=$Ps[e],n=_c[e].dir,r={minWidth:1001-cssW(t,1e3),minHeight:1001-cssH(t,1e3)};return n==="horz"&&(r.minSize=r.minHeight),n==="vert"&&(r.minSize=r.minWidth),r},setOuterWidth=function(e,t,n){var r=e,i;isStr(e)?r=$Ps[e]:e.jquery||(r=$(e)),i=cssW(r,t),r.css({width:i}),i>0?n&&r.data("autoHidden")&&r.innerHeight()>0&&(r.show().data("autoHidden",!1),browser.mozilla||r.css(_c.hidden).css(_c.visible)):n&&!r.data("autoHidden")&&r.hide().data("autoHidden",!0)},setOuterHeight=function(e,t,n){var r=e,i;isStr(e)?r=$Ps[e]:e.jquery||(r=$(e)),i=cssH(r,t),r.css({height:i,visibility:"visible"}),i>0&&r.innerWidth()>0?n&&r.data("autoHidden")&&(r.show().data("autoHidden",!1),browser.mozilla||r.css(_c.hidden).css(_c.visible)):n&&!r.data("autoHidden")&&r.hide().data("autoHidden",!0)},setOuterSize=function(e,t,n){_c[pane].dir=="horz"?setOuterHeight(e,t,n):setOuterWidth(e,t,n)},_parseSize=function(e,t,n){n||(n=_c[e].dir),isStr(t)&&t.match(/%/)&&(t=t==="100%"?-1:parseInt(t,10)/100);if(t===0)return 0;if(t>=1)return parseInt(t,10);var r=options,i=0;n=="horz"?i=sC.innerHeight-($Ps.north?r.north.spacing_open:0)-($Ps.south?r.south.spacing_open:0):n=="vert"&&(i=sC.innerWidth-($Ps.west?r.west.spacing_open:0)-($Ps.east?r.east.spacing_open:0));if(t===-1)return i;if(t>0)return round(i*t);if(e=="center")return 0;var s=n==="horz"?"height":"width",o=$Ps[e],u=s==="height"?$Cs[e]:!1,a=$.layout.showInvisibly(o),f=o.css(s),l=u?u.css(s):0;return o.css(s,"auto"),u&&u.css(s,"auto"),t=s==="height"?o.outerHeight():o.outerWidth(),o.css(s,f).css(a),u&&u.css(s,l),t},getPaneSize=function(e,t){var n=$Ps[e],r=options[e],i=state[e],s=t?r.spacing_open:0,o=t?r.spacing_closed:0;return!n||i.isHidden?0:i.isClosed||i.isSliding&&t?o:_c[e].dir==="horz"?n.outerHeight()+s:n.outerWidth()+s},setSizeLimits=function(e,t){if(!isInitialized())return;var n=options[e],r=state[e],i=_c[e],s=i.dir,o=i.side.toLowerCase(),u=i.sizeType.toLowerCase(),a=t!=undefined?t:r.isSliding,f=$Ps[e],l=n.spacing_open,c=_c.oppositeEdge[e],h=state[c],p=$Ps[c],d=!p||h.isVisible===!1||h.isSliding?0:s=="horz"?p.outerHeight():p.outerWidth(),v=(!p||h.isHidden?0:options[c][h.isClosed!==!1?"spacing_closed":"spacing_open"])||0,m=s=="horz"?sC.innerHeight:sC.innerWidth,g=cssMinDims("center"),y=s=="horz"?max(options.center.minHeight,g.minHeight):max(options.center.minWidth,g.minWidth),b=m-l-(a?0:_parseSize("center",y,s)+d+v),w=r.minSize=max(_parseSize(e,n.minSize),cssMinDims(e).minSize),E=r.maxSize=min(n.maxSize?_parseSize(e,n.maxSize):1e5,b),S=r.resizerPosition={},x=sC.insetTop,T=sC.insetLeft,N=sC.innerWidth,C=sC.innerHeight,k=n.spacing_open;switch(e){case"north":S.min=x+w,S.max=x+E;break;case"west":S.min=T+w,S.max=T+E;break;case"south":S.min=x+C-E-k,S.max=x+C-w-k;break;case"east":S.min=T+N-E-k,S.max=T+N-w-k}},calcNewCenterPaneDims=function(){var e={top:getPaneSize("north",!0),bottom:getPaneSize("south",!0),left:getPaneSize("west",!0),right:getPaneSize("east",!0),width:0,height:0};return e.width=sC.innerWidth-e.left-e.right,e.height=sC.innerHeight-e.bottom-e.top,e.top+=sC.insetTop,e.bottom+=sC.insetBottom,e.left+=sC.insetLeft,e.right+=sC.insetRight,e},getHoverClasses=function(e,t){var n=$(e),r=n.data("layoutRole"),i=n.data("layoutEdge"),s=options[i],o=s[r+"Class"],u="-"+i,a="-open",f="-closed",l="-sliding",c="-hover ",h=n.hasClass(o+f)?f:a,p=h===f?a:f,d=o+c+(o+u+c)+(o+h+c)+(o+u+h+c);return t&&(d+=o+p+c+(o+u+p+c)),r=="resizer"&&n.hasClass(o+l)&&(d+=o+l+c+(o+u+l+c)),$.trim(d)},addHover=function(e,t){var n=$(t||this);e&&n.data("layoutRole")==="toggler"&&e.stopPropagation(),n.addClass(getHoverClasses(n))},removeHover=function(e,t){var n=$(t||this);n.removeClass(getHoverClasses(n,!0))},onResizerEnter=function(e){$.fn.disableSelection&&$("body").disableSelection()},onResizerLeave=function(e,t){var n=t||this,r=$(n).data("layoutEdge"),i=r+"ResizerLeave";timer.clear(r+"_openSlider"),timer.clear(i),t?!state[r].isResizing&&$.fn.enableSelection&&$("body").enableSelection():timer.set(i,function(){onResizerLeave(e,n)},200)},_create=function(){initOptions();var e=options;return state.creatingLayout=!0,runPluginCallbacks(Instance,$.layout.onCreate),!1===_runCallbacks("onload_start")?"cancel":(_initContainer(),initHotkeys(),$(window).bind("unload."+sID,unload),runPluginCallbacks(Instance,$.layout.onLoad),e.initPanes&&_initLayoutElements(),delete state.creatingLayout,state.initialized)},isInitialized=function(){return state.initialized||state.creatingLayout?!0:_initLayoutElements()},_initLayoutElements=function(e){var t=options;if(!$N.is(":visible"))return!e&&browser.webkit&&$N[0].tagName==="BODY"&&setTimeout(function(){_initLayoutElements(!0)},50),!1;if(!getPane("center").length)return _log(t.errors.centerPaneMissing);state.creatingLayout=!0,$.extend(sC,elDims($N)),initPanes();if(t.scrollToBookmarkOnLoad){var n=self.location;n.hash&&n.replace(n.hash)}return Instance.hasParentLayout?t.resizeWithWindow=!1:t.resizeWithWindow&&$(window).bind("resize."+sID,windowResize),delete state.creatingLayout,state.initialized=!0,runPluginCallbacks(Instance,$.layout.onReady),_runCallbacks("onload_end"),!0},_initChildLayouts=function(){$.each(_c.allPanes,function(e,t){options[t].initChildLayout&&createChildLayout(t)})},createChildLayout=function(e,t){var n=evtPane.call(this,e),r=$Ps[n],i=children;if(r){var s=$Cs[n],o=t||options[n].childOptions,u="layout",a=o.containerSelector?r.find(o.containerSelector):s||r,f=a.length,l=f?i[n]=a.data(u)||null:null;!l&&f&&o&&(l=i[n]=a.eq(0).layout(o)||null),l&&(l.hasParentLayout=!0)}Instance[n].child=i[n]},windowResize=function(){var e=Number(options.resizeWithWindowDelay);e<10&&(e=100),timer.clear("winResize"),timer.set("winResize",function(){timer.clear("winResize"),timer.clear("winResizeRepeater");var e=elDims($N);(e.innerWidth!==sC.innerWidth||e.innerHeight!==sC.innerHeight)&&resizeAll()},e),timer.data.winResizeRepeater||setWindowResizeRepeater()},setWindowResizeRepeater=function(){var e=Number(options.resizeWithWindowMaxDelay);e>0&&timer.set("winResizeRepeater",function(){setWindowResizeRepeater(),resizeAll()},e)},unload=function(){var e=options;_runCallbacks("onunload_start"),runPluginCallbacks(Instance,$.layout.onUnload),_runCallbacks("onunload_end")},_initContainer=function(){var e=$N[0],t=sC.tagName=e.tagName,n=sC.id=e.id,r=sC.className=e.className,i=options,s=i.name,o=t==="BODY",u="overflow,position,margin,padding,border",a="layoutCSS",f={},l="hidden",c=$N.data("parentLayout"),h=$N.data("layoutEdge"),p=c&&h;sC.selector=$N.selector.split(".slice")[0],sC.ref=(i.name?i.name+" layout / ":"")+t+(n?"#"+n:r?".["+r+"]":""),$N.data({layout:Instance,layoutContainer:sID}).addClass(i.containerClass);var d={destroy:"",initPanes:"",resizeAll:"resizeAll",resize:"resizeAll"};for(s in d)$N.bind("layout"+s.toLowerCase()+"."+sID,Instance[d[s]||s]);p&&(Instance.hasParentLayout=!0,c[h].child=c.children[h]=$N.data("layout"));if(!$N.data(a)){if(o){f=$.extend(elCSS($N,u),{height:$N.css("height"),overflow:$N.css("overflow"),overflowX:$N.css("overflowX"),overflowY:$N.css("overflowY")});var v=$("html");v.data(a,{height:"auto",overflow:v.css("overflow"),overflowX:v.css("overflowX"),overflowY:v.css("overflowY")})}else f=elCSS($N,u+",top,bottom,left,right,width,height,overflow,overflowX,overflowY");$N.data(a,f)}try{if(o)$("html").css({height:"100%",overflow:l,overflowX:l,overflowY:l}),$("body").css({position:"relative",height:"100%",overflow:l,overflowX:l,overflowY:l,margin:0,padding:0,border:"none"}),$.extend(sC,elDims($N));else{f={overflow:l,overflowX:l,overflowY:l};var m=$N.css("position"),g=$N.css("height");!p&&(!m||!m.match(/fixed|absolute|relative/))&&(f.position="relative"),$N.css(f),$N.is(":visible")&&($.extend(sC,elDims($N)),sC.innerHeight<1&&_log(i.errors.noContainerHeight.replace(/CONTAINER/,sC.ref)))}}catch(y){}},initHotkeys=function(e){e=e?e.split(","):_c.borderPanes,$.each(e,function(e,t){var n=options[t];if(n.enableCursorHotkey||n.customHotkey)return $(document).bind("keydown."+sID,keyDown),!1})},initOptions=function(){function c(e){var t=options[e],n=options.panes;t.fxSettings||(t.fxSettings={}),n.fxSettings||(n.fxSettings={}),$.each(["_open","_close","_size"],function(r,i){var s="fxName"+i,o="fxSpeed"+i,u="fxSettings"+i,a=t[s]=t[s]||n[s]||t.fxName||n.fxName||"none";if(a==="none"||!$.effects||!$.effects[a]||!options.effects[a])a=t[s]="none";var f=options.effects[a]||{},l=f.all||null,c=f[e]||null;t[o]=t[o]||n[o]||t.fxSpeed||n.fxSpeed||null,t[u]=$.extend(!0,{},l,c,n.fxSettings,t.fxSettings,n[u],t[u])}),delete t.fxName,delete t.fxSpeed,delete t.fxSettings}var e,t,n,r,i,s,o,u;opts=$.layout.transformData(opts),opts=$.layout.backwardCompatibility.renameAllOptions(opts);if(!$.isEmptyObject(opts.panes)){e=$.layout.optionsMap.noDefault;for(s=0,o=e.length;s<o;s++)r=e[s],delete opts.panes[r];e=$.layout.optionsMap.layout;for(s=0,o=e.length;s<o;s++)r=e[s],delete opts.panes[r]}e=$.layout.optionsMap.layout;var a=$.layout.config.optionRootKeys;for(r in opts)i=opts[r],$.inArray(r,a)<0&&$.inArray(r,e)<0&&(opts.panes[r]||(opts.panes[r]=$.isPlainObject(i)?$.extend(!0,{},i):i),delete opts[r]);$.extend(!0,options,opts),$.each(_c.allPanes,function(n,i){_c[i]=$.extend(!0,{},_c.panes,_c[i]),t=options.panes,u=options[i];if(i==="center"){e=$.layout.optionsMap.center;for(n=0,o=e.length;n<o;n++)r=e[n],!opts.center[r]&&(opts.panes[r]||!u[r])&&(u[r]=t[r])}else u=options[i]=$.extend(!0,{},t,u),c(i),u.resizerClass||(u.resizerClass="ui-layout-resizer"),u.togglerClass||(u.togglerClass="ui-layout-toggler");u.paneClass||(u.paneClass="ui-layout-pane")});var f=opts.zIndex,l=options.zIndexes;f>0&&(l.pane_normal=f,l.content_mask=max(f+1,l.content_mask),l.resizer_normal=max(f+2,l.resizer_normal)),delete options.panes},getPane=function(e){var t=options[e].paneSelector;if(t.substr(0,1)==="#")return $N.find(t).eq(0);var n=$N.children(t).eq(0);return n.length?n:$N.children("form:first").children(t).eq(0)},initPanes=function(e){evtPane(e),$.each(_c.allPanes,function(e,t){addPane(t,!0)}),initHandles(),$.each(_c.borderPanes,function(e,t){$Ps[t]&&state[t].isVisible&&(setSizeLimits(t),makePaneFit(t))}),sizeMidPanes("center"),$.each(_c.allPanes,function(e,t){var n=options[t];$Ps[t]&&(state[t].isVisible&&(sizeContent(t),n.triggerEventsOnLoad?_runCallbacks("onresize_end",t):resizeChildLayout(t)),n.initChildLayout&&n.childOptions&&createChildLayout(t))})},addPane=function(e,t){if(!t&&!isInitialized())return;var n=options[e],r=state[e],i=_c[e],s=r.fx,o=i.dir,u=n.spacing_open||0,a=e==="center",f={},l=$Ps[e],c,h,p;l?removePane(e,!1,!0,!1):$Cs[e]=!1,l=$Ps[e]=getPane(e);if(!l.length){$Ps[e]=!1;return}if(!l.data("layoutCSS")){var d="position,top,left,bottom,right,width,height,overflow,zIndex,display,backgroundColor,padding,margin,border";l.data("layoutCSS",elCSS(l,d))}Instance[e]={name:e,pane:$Ps[e],content:$Cs[e],options:options[e],state:state[e],child:children[e]},l.data({parentLayout:Instance,layoutPane:Instance[e],layoutEdge:e,layoutRole:"pane"}).css(i.cssReq).css("zIndex",options.zIndexes.pane_normal).css(n.applyDemoStyles?i.cssDemo:{}).addClass(n.paneClass+" "+n.paneClass+"-"+e).bind("mouseenter."+sID,addHover).bind("mouseleave."+sID,removeHover);var v={hide:"",show:"",toggle:"",close:"",open:"",slideOpen:"",slideClose:"",slideToggle:"",size:"sizePane",sizePane:"sizePane",sizeContent:"",sizeHandles:"",enableClosable:"",disableClosable:"",enableSlideable:"",disableSlideable:"",enableResizable:"",disableResizable:"",swapPanes:"swapPanes",swap:"swapPanes",move:"swapPanes",removePane:"removePane",remove:"removePane",createChildLayout:"",resizeChildLayout:"",resizeAll:"resizeAll",resizeLayout:"resizeAll"},m;for(m in v)l.bind("layoutpane"+m.toLowerCase()+"."+sID,Instance[v[m]||m]);initContent(e,!1),a||(c=r.size=_parseSize(e,n.size),h=_parseSize(e,n.minSize)||1,p=_parseSize(e,n.maxSize)||1e5,c>0&&(c=max(min(c,p),h)),r.isClosed=!1,r.isSliding=!1,r.isResizing=!1,r.isHidden=!1,r.pins||(r.pins=[])),r.tagName=l[0].tagName,r.edge=e,r.noRoom=!1,r.isVisible=!0;switch(e){case"north":f.top=sC.insetTop,f.left=sC.insetLeft,f.right=sC.insetRight;break;case"south":f.bottom=sC.insetBottom,f.left=sC.insetLeft,f.right=sC.insetRight;break;case"west":f.left=sC.insetLeft;break;case"east":f.right=sC.insetRight;break;case"center":}o==="horz"?f.height=cssH(l,c):o==="vert"&&(f.width=cssW(l,c)),l.css(f),o!="horz"&&sizeMidPanes(e,!0),n.initClosed&&n.closable&&!n.initHidden?close(e,!0,!0):n.initHidden||n.initClosed?hide(e):r.noRoom||l.css("display","block"),l.css("visibility","visible"),n.showOverflowOnHover&&l.hover(allowOverflow,resetOverflow),state.initialized&&(initHandles(e),initHotkeys(e),resizeAll(),r.isVisible&&(n.triggerEventsOnLoad?_runCallbacks("onresize_end",e):resizeChildLayout(e)),n.initChildLayout&&n.childOptions&&createChildLayout(e))},initHandles=function(e){e=e?e.split(","):_c.borderPanes,$.each(e,function(e,t){var n=$Ps[t];$Rs[t]=!1,$Ts[t]=!1;if(!n)return;var r=options[t],i=state[t],s=_c[t],o=r.paneSelector.substr(0,1)==="#"?r.paneSelector.substr(1):"",u=r.resizerClass,a=r.togglerClass,f=s.side.toLowerCase(),l=i.isVisible?r.spacing_open:r.spacing_closed,c="-"+t,h=i.isVisible?"-open":"-closed",p=Instance[t],d=p.resizer=$Rs[t]=$("<div></div>"),v=p.toggler=r.closable?$Ts[t]=$("<div></div>"):!1;!i.isVisible&&r.slidable&&d.attr("title",r.tips.Slide).css("cursor",r.sliderCursor),d.attr("id",o?o+"-resizer":"").data({parentLayout:Instance,layoutPane:Instance[t],layoutEdge:t,layoutRole:"resizer"}).css(_c.resizers.cssReq).css("zIndex",options.zIndexes.resizer_normal).css(r.applyDemoStyles?_c.resizers.cssDemo:{}).addClass(u+" "+u+c).hover(addHover,removeHover).hover(onResizerEnter,onResizerLeave).appendTo($N),v&&(v.attr("id",o?o+"-toggler":"").data({parentLayout:Instance,layoutPane:Instance[t],layoutEdge:t,layoutRole:"toggler"}).css(_c.togglers.cssReq).css(r.applyDemoStyles?_c.togglers.cssDemo:{}).addClass(a+" "+a+c).hover(addHover,removeHover).bind("mouseenter",onResizerEnter).appendTo(d),r.togglerContent_open&&$("<span>"+r.togglerContent_open+"</span>").data({layoutEdge:t,layoutRole:"togglerContent"}).data("layoutRole","togglerContent").data("layoutEdge",t).addClass("content content-open").css("display","none").appendTo(v),r.togglerContent_closed&&$("<span>"+r.togglerContent_closed+"</span>").data({layoutEdge:t,layoutRole:"togglerContent"}).addClass("content content-closed").css("display","none").appendTo(v),enableClosable(t)),initResizable(t),i.isVisible?setAsOpen(t):(setAsClosed(t),bindStartSlidingEvent(t,!0))}),sizeHandles()},initContent=function(e,t){if(!isInitialized())return;var n=options[e],r=n.contentSelector,i=Instance[e],s=$Ps[e],o;r&&(o=i.content=$Cs[e]=n.findNestedContent?s.find(r).eq(0):s.children(r).eq(0)),o&&o.length?(o.data("layoutRole","content"),o.data("layoutCSS")||o.data("layoutCSS",elCSS(o,"height")),o.css(_c.content.cssReq),n.applyDemoStyles&&(o.css(_c.content.cssDemo),s.css(_c.content.cssDemoPane)),state[e].content={},t!==!1&&sizeContent(e)):i.content=$Cs[e]=!1},initResizable=function(e){var t=$.layout.plugins.draggable,n;e=e?e.split(","):_c.borderPanes,$.each(e,function(e,n){var i=options[n];if(!t||!$Ps[n]||!i.resizable)return i.resizable=!1,!0;var s=state[n],o=options.zIndexes,u=_c[n],a=u.dir=="horz"?"top":"left",f=_c.oppositeEdge[n],l=n+",center,"+f+(u.dir=="horz"?",west,east":""),c=$Ps[n],h=$Rs[n],p=i.resizerClass,d=0,v,m,g=p+"-drag",y=p+"-"+n+"-drag",b=p+"-dragging",w=p+"-"+n+"-dragging",E=p+"-dragging-limit",S=p+"-"+n+"-dragging-limit",x=!1;s.isClosed||h.attr("title",i.tips.Resize).css("cursor",i.resizerCursor),h.draggable({containment:$N[0],axis:u.dir=="horz"?"y":"x",delay:0,distance:1,grid:i.resizingGrid,helper:"clone",opacity:i.resizerDragOpacity,addClasses:!1,zIndex:o.resizer_drag,start:function(e,t){i=options[n],s=state[n],m=i.livePaneResizing;if(!1===_runCallbacks("ondrag_start",n))return!1;s.isResizing=!0,timer.clear(n+"_closeSlider"),setSizeLimits(n),v=s.resizerPosition,d=t.position[a],h.addClass(g+" "+y),x=!1,$("body").disableSelection(),showMasks(l)},drag:function(e,t){x||(t.helper.addClass(b+" "+w).css({right:"auto",bottom:"auto"}).children().css("visibility","hidden"),x=!0,s.isSliding&&$Ps[n].css("zIndex",o.pane_sliding));var u=0;t.position[a]<v.min?(t.position[a]=v.min,u=-1):t.position[a]>v.max&&(t.position[a]=v.max,u=1),u?(t.helper.addClass(E+" "+S),window.defaultStatus=u>0&&n.match(/(north|west)/)||u<0&&n.match(/(south|east)/)?i.tips.maxSizeWarning:i.tips.minSizeWarning):(t.helper.removeClass(E+" "+S),window.defaultStatus=""),m&&Math.abs(t.position[a]-d)>=i.liveResizingTolerance&&(d=t.position[a],r(e,t,n))},stop:function(e,t){$("body").enableSelection(),window.defaultStatus="",h.removeClass(g+" "+y),s.isResizing=!1,r(e,t,n,!0,l)}})});var r=function(e,t,n,r,i){var s=t.position,o=_c[n],u=options[n],a=state[n],f;switch(n){case"north":f=s.top;break;case"west":f=s.left;break;case"south":f=sC.offsetHeight-s.top-u.spacing_open;break;case"east":f=sC.offsetWidth-s.left-u.spacing_open}var l=f-sC["inset"+o.side];if(!r){if(Math.abs(l-a.size)<u.liveResizingTolerance)return;manualSizePane(n,l,!1,!0),sizeMasks()}else!1!==_runCallbacks("ondrag_end",n)&&manualSizePane(n,l,!1,!0),hideMasks(),a.isSliding&&i&&showMasks(i,!0)}},sizeMask=function(){var e=$(this),t=e.data("layoutMask"),n=state[t];n.tagName=="IFRAME"&&n.isVisible&&e.css({top:n.offsetTop,left:n.offsetLeft,width:n.outerWidth,height:n.outerHeight})},sizeMasks=function(){$Ms.each(sizeMask)},showMasks=function(e,t){var n=e?e.split(","):$.layout.config.allPanes,r=options.zIndexes,i,s;$.each(n,function(e,n){s=state[n],i=options[n],s.isVisible&&(!t&&i.maskContents||i.maskObjects)&&getMasks(n).each(function(){sizeMask.call(this),this.style.zIndex=s.isSliding?r.pane_sliding+1:r.pane_normal+1,this.style.display="block"})})},hideMasks=function(){var e;$.each($.layout.config.borderPanes,function(t,n){if(state[n].isResizing)return e=!0,!1}),e||$Ms.hide()},getMasks=function(e){var t=$([]),n,r=0,i=$Ms.length;for(;r<i;r++)n=$Ms.eq(r),n.data("layoutMask")===e&&(t=t.add(n));return t.length?t:createMasks(e)},createMasks=function(e){var t=$Ps[e],n=state[e],r=options[e],i=options.zIndexes,s=$([]),o,u,a,f,l;if(!r.maskContents&&!r.maskObjects)return s;for(l=0;l<(r.maskObjects?2:1);l++)o=r.maskObjects&&l==0,u=document.createElement(o?"iframe":"div"),a=$(u).data("layoutMask",e),u.className="ui-layout-mask ui-layout-mask-"+e,f=u.style,f.display="block",f.position="absolute",o&&(u.frameborder=0,u.src="about:blank",f.opacity=0,f.filter="Alpha(Opacity='0')",f.border=0),n.tagName=="IFRAME"?(f.zIndex=i.pane_normal+1,$N.append(u)):(a.addClass("ui-layout-mask-inside-pane"),f.zIndex=r.maskZindex||i.content_mask,f.top=0,f.left=0,f.width="100%",f.height="100%",t.append(u)),s=s.add(u),$Ms=$Ms.add(u);return s},destroy=function(e,t){$(window).unbind("."+sID),$(document).unbind("."+sID),typeof e=="object"?evtPane(e):t=e,$N.clearQueue().removeData("layout").removeData("layoutContainer").removeClass(options.containerClass).unbind("."+sID),$Ms.remove(),$.each(_c.allPanes,function(e,n){removePane(n,!1,!0,t)});var r="layoutCSS";$N.data(r)&&!$N.data("layoutRole")&&$N.css($N.data(r)).removeData(r),sC.tagName==="BODY"&&($N=$("html")).data(r)&&$N.css($N.data(r)).removeData(r),runPluginCallbacks(Instance,$.layout.onDestroy),unload();for(n in Instance)n.match(/^(container|options)$/)||delete Instance[n];return Instance.destroyed=!0,Instance},removePane=function(e,t,n,r){if(!isInitialized())return;var i=evtPane.call(this,e),s=$Ps[i],o=$Cs[i],u=$Rs[i],a=$Ts[i];s&&$.isEmptyObject(s.data())&&(s=!1),o&&$.isEmptyObject(o.data())&&(o=!1),u&&$.isEmptyObject(u.data())&&(u=!1),a&&$.isEmptyObject(a.data())&&(a=!1),s&&s.stop(!0,!0);var f=options[i],l=state[i],c="layout",h="layoutCSS",p=children[i]||(s?s.data(c):0)||(o?o.data(c):0)||null,d=r!==undefined?r:f.destroyChildLayout;d&&p&&!p.destroyed&&(p.destroy(!0),p.destroyed&&(p=null));if(s&&t&&!p)s.remove();else if(s&&s[0]){var v=f.paneClass,m=v+"-"+i,g="-open",y="-sliding",b="-closed",w=[v,v+g,v+b,v+y,m,m+g,m+b,m+y];$.merge(w,getHoverClasses(s,!0)),s.removeClass(w.join(" ")).removeData("parentLayout").removeData("layoutPane").removeData("layoutRole").removeData("layoutEdge").removeData("autoHidden").unbind("."+sID),o&&o.data(c)?(o.width(o.width()),p.resizeAll()):o&&o.css(o.data(h)).removeData(h).removeData("layoutRole"),s.data(c)||s.css(s.data(h)).removeData(h)}a&&a.remove(),u&&u.remove(),Instance[i]=$Ps[i]=$Cs[i]=$Rs[i]=$Ts[i]=children[i]=!1,l={removed:!0},n||resizeAll()},_hidePane=function(e){var t=$Ps[e],n=options[e],r=t[0].style;n.useOffscreenClose?(t.data(_c.offscreenReset)||t.data(_c.offscreenReset,{left:r.left,right:r.right}),t.css(_c.offscreenCSS)):t.hide().removeData(_c.offscreenReset)},_showPane=function(e){var t=$Ps[e],n=options[e],r=_c.offscreenCSS,i=t.data(_c.offscreenReset),s=t[0].style;t.show().removeData(_c.offscreenReset),n.useOffscreenClose&&i&&(s.left==r.left&&(s.left=i.left),s.right==r.right&&(s.right=i.right))},hide=function(e,t){if(!isInitialized())return;var n=evtPane.call(this,e),r=options[n],i=state[n],s=$Ps[n],o=$Rs[n];if(!s||i.isHidden)return;if(state.initialized&&!1===_runCallbacks("onhide_start",n))return;i.isSliding=!1,o&&o.hide(),!state.initialized||i.isClosed?(i.isClosed=!0,i.isHidden=!0,i.isVisible=!1,state.initialized||_hidePane(n),sizeMidPanes(_c[n].dir==="horz"?"":"center"),(state.initialized||r.triggerEventsOnLoad)&&_runCallbacks("onhide_end",n)):(i.isHiding=!0,close(n,!1,t))},show=function(e,t,n,r){if(!isInitialized())return;var i=evtPane.call(this,e),s=options[i],o=state[i],u=$Ps[i],a=$Rs[i];if(!u||!o.isHidden)return;if(!1===_runCallbacks("onshow_start",i))return;o.isSliding=!1,o.isShowing=!0,t===!1?close(i,!0):open(i,!1,n,r)},toggle=function(e,t){if(!isInitialized())return;var n=evtObj(e),r=evtPane.call(this,e),i=state[r];n&&n.stopImmediatePropagation(),i.isHidden?show(r):i.isClosed?open(r,!!t):close(r)},_closePane=function(e,t){var n=$Ps[e],r=state[e];_hidePane(e),r.isClosed=!0,r.isVisible=!1},close=function(e,t,n,r){function v(){f.isMoving=!1,bindStartSlidingEvent(i,!0);var e=_c.oppositeEdge[i];state[e].noRoom&&(setSizeLimits(e),makePaneFit(e)),hideMasks(),!r&&(state.initialized||a.triggerEventsOnLoad)&&(h||_runCallbacks("onclose_end",i),h&&_runCallbacks("onshow_end",i),p&&_runCallbacks("onhide_end",i))}var i=evtPane.call(this,e);if(!state.initialized&&$Ps[i]){_closePane(i);return}if(!isInitialized())return;var s=$Ps[i],o=$Rs[i],u=$Ts[i],a=options[i],f=state[i],l=_c[i],c,h,p,d;$N.queue(function(e){if(!s||!a.closable&&!f.isShowing&&!f.isHiding||!t&&f.isClosed&&!f.isShowing)return e();var r=!f.isShowing&&!1===_runCallbacks("onclose_start",i);h=f.isShowing,p=f.isHiding,d=f.isSliding,delete f.isShowing,delete f.isHiding;if(r)return e();c=!n&&!f.isClosed&&a.fxName_close!="none",f.isMoving=!0,f.isClosed=!0,f.isVisible=!1,p?f.isHidden=!0:h&&(f.isHidden=!1),f.isSliding?bindStopSlidingEvents(i,!1):sizeMidPanes(_c[i].dir==="horz"?"":"center",!1),setAsClosed(i);if(c){var o="center"+(l.dir=="horz"?",west,east":"");showMasks(o,!0),lockPaneForFX(i,!0),s.hide(a.fxName_close,a.fxSettings_close,a.fxSpeed_close,function(){lockPaneForFX(i,!1),f.isClosed&&v(),e()})}else _hidePane(i),v(),e()})},setAsClosed=function(e){var t=$Ps[e],n=$Rs[e],r=$Ts[e],i=options[e],s=state[e],o=_c[e].side.toLowerCase(),u="inset"+_c[e].side,a=i.resizerClass,f=i.togglerClass,l="-"+e,c="-open",h="-sliding",p="-closed";n.css(o,sC[u]).removeClass(a+c+" "+a+l+c).removeClass(a+h+" "+a+l+h).addClass(a+p+" "+a+l+p).unbind("dblclick."+sID),i.resizable&&$.layout.plugins.draggable&&n.draggable("disable").removeClass("ui-state-disabled").css("cursor","default").attr("title",""),r&&(r.removeClass(f+c+" "+f+l+c).addClass(f+p+" "+f+l+p).attr("title",i.tips.Open),r.children(".content-open").hide(),r.children(".content-closed").css("display","block")),syncPinBtns(e,!1),state.initialized&&sizeHandles()},open=function(e,t,n,r){function p(){f.isMoving=!1,_fixIframe(i),f.isSliding||(hideMasks(),sizeMidPanes(_c[i].dir=="vert"?"center":"",!1)),setAsOpen(i)}if(!isInitialized())return;var i=evtPane.call(this,e),s=$Ps[i],o=$Rs[i],u=$Ts[i],a=options[i],f=state[i],l=_c[i],c,h;$N.queue(function(e){if(!s||!a.resizable&&!a.closable&&!f.isShowing||f.isVisible&&!f.isSliding)return e();if(f.isHidden&&!f.isShowing){e(),show(i,!0);return}a.autoResize&&f.size!=a.size?sizePane(i,a.size,!0,!0,!0):setSizeLimits(i,t);var o=_runCallbacks("onopen_start",i);if(o==="abort")return e();o!=="NC"&&setSizeLimits(i,t);if(f.minSize>f.maxSize)return syncPinBtns(i,!1),!r&&a.tips.noRoomToOpen&&alert(a.tips.noRoomToOpen),e();t?bindStopSlidingEvents(i,!0):f.isSliding?bindStopSlidingEvents(i,!1):a.slidable&&bindStartSlidingEvent(i,!1),f.noRoom=!1,makePaneFit(i),h=f.isShowing,delete f.isShowing,c=!n&&f.isClosed&&a.fxName_open!="none",f.isMoving=!0,f.isVisible=!0,f.isClosed=!1,h&&(f.isHidden=!1);if(c){var u="center"+(l.dir=="horz"?",west,east":"");f.isSliding&&(u+=","+_c.oppositeEdge[i]),showMasks(u,!0),lockPaneForFX(i,!0),s.show(a.fxName_open,a.fxSettings_open,a.fxSpeed_open,function(){lockPaneForFX(i,!1),f.isVisible&&p(),e()})}else _showPane(i),p(),e()})},setAsOpen=function(e,t){var n=$Ps[e],r=$Rs[e],i=$Ts[e],s=options[e],o=state[e],u=_c[e].side.toLowerCase(),a="inset"+_c[e].side,f=s.resizerClass,l=s.togglerClass,c="-"+e,h="-open",p="-closed",d="-sliding";r.css(u,sC[a]+getPaneSize(e)).removeClass(f+p+" "+f+c+p).addClass(f+h+" "+f+c+h),o.isSliding?r.addClass(f+d+" "+f+c+d):r.removeClass(f+d+" "+f+c+d),s.resizerDblClickToggle&&r.bind("dblclick",toggle),removeHover(0,r),s.resizable&&$.layout.plugins.draggable?r.draggable("enable").css("cursor",s.resizerCursor).attr("title",s.tips.Resize):o.isSliding||r.css("cursor","default"),i&&(i.removeClass(l+p+" "+l+c+p).addClass(l+h+" "+l+c+h).attr("title",s.tips.Close),removeHover(0,i),i.children(".content-closed").hide(),i.children(".content-open").css("display","block")),syncPinBtns(e,!o.isSliding),$.extend(o,elDims(n)),state.initialized&&(sizeHandles(),sizeContent(e,!0)),!t&&(state.initialized||s.triggerEventsOnLoad)&&n.is(":visible")&&(_runCallbacks("onopen_end",e),o.isShowing&&_runCallbacks("onshow_end",e),state.initialized&&_runCallbacks("onresize_end",e))},slideOpen=function(e){function s(){r.isClosed?r.isMoving||open(n,!0):bindStopSlidingEvents(n,!0)}if(!isInitialized())return;var t=evtObj(e),n=evtPane.call(this,e),r=state[n],i=options[n].slideDelay_open;t&&t.stopImmediatePropagation(),r.isClosed&&t&&t.type==="mouseenter"&&i>0?timer.set(n+"_openSlider",s,i):s()},slideClose=function(e){function o(){i.isClosed?bindStopSlidingEvents(n,!1):i.isMoving||close(n)}if(!isInitialized())return;var t=evtObj(e),n=evtPane.call(this,e),r=options[n],i=state[n],s=i.isMoving?1e3:300;if(i.isClosed||i.isResizing)return;if(r.slideTrigger_close==="click")o();else{if(r.preventQuickSlideClose&&i.isMoving)return;if(r.preventPrematureSlideClose&&t&&$.layout.isMouseOverElem(t,$Ps[n]))return;t?timer.set(n+"_closeSlider",o,max(r.slideDelay_close,s)):o()}},slideToggle=function(e){var t=evtPane.call(this,e);toggle(t,!0)},lockPaneForFX=function(e,t){var n=$Ps[e],r=state[e],i=options[e],s=options.zIndexes;t?(n.css({zIndex:s.pane_animate}),e=="south"?n.css({top:sC.insetTop+sC.innerHeight-n.outerHeight()}):e=="east"&&n.css({left:sC.insetLeft+sC.innerWidth-n.outerWidth()})):(n.css({zIndex:r.isSliding?s.pane_sliding:s.pane_normal}),e=="south"?n.css({top:"auto"}):e=="east"&&!n.css("left").match(/\-99999/)&&n.css({left:"auto"}),browser.msie&&i.fxOpacityFix&&i.fxName_open!="slide"&&n.css("filter")&&n.css("opacity")==1&&n[0].style.removeAttribute("filter"))},bindStartSlidingEvent=function(e,t){var n=options[e],r=$Ps[e],i=$Rs[e],s=n.slideTrigger_open.toLowerCase();if(!i||t&&!n.slidable)return;s.match(/mouseover/)?s=n.slideTrigger_open="mouseenter":s.match(/click|dblclick|mouseenter/)||(s=n.slideTrigger_open="click"),i[t?"bind":"unbind"](s+"."+sID,slideOpen).css("cursor",t?n.sliderCursor:"default").attr("title",t?n.tips.Slide:"")},bindStopSlidingEvents=function(e,t){function l(t){timer.clear(e+"_closeSlider"),t.stopPropagation()}var n=options[e],r=state[e],i=_c[e],s=options.zIndexes,o=n.slideTrigger_close.toLowerCase(),u=t?"bind":"unbind",a=$Ps[e],f=$Rs[e];r.isSliding=t,timer.clear(e+"_closeSlider"),t&&bindStartSlidingEvent(e,!1),a.css("zIndex",t?s.pane_sliding:s.pane_normal),f.css("zIndex",t?s.pane_sliding+2:s.resizer_normal),o.match(/click|mouseleave/)||(o=n.slideTrigger_close="mouseleave"),f[u](o,slideClose),o==="mouseleave"&&(a[u]("mouseleave."+sID,slideClose),f[u]("mouseenter."+sID,l),a[u]("mouseenter."+sID,l)),t?o==="click"&&!n.resizable&&(f.css("cursor",t?n.sliderCursor:"default"),f.attr("title",t?n.tips.Close:"")):timer.clear(e+"_closeSlider")},makePaneFit=function(e,t,n,r){var i=options[e],s=state[e],o=_c[e],u=$Ps[e],a=$Rs[e],f=o.dir==="vert",l=!1;if(e==="center"||f&&s.noVerticalRoom)l=s.maxHeight>=0,l&&s.noRoom?(_showPane(e),a&&a.show(),s.isVisible=!0,s.noRoom=!1,f&&(s.noVerticalRoom=!1),_fixIframe(e)):!l&&!s.noRoom&&(_hidePane(e),a&&a.hide(),s.isVisible=!1,s.noRoom=!0);if(e!=="center")if(s.minSize<=s.maxSize){l=!0;if(s.size>s.maxSize)sizePane(e,s.maxSize,n,r,!0);else if(s.size<s.minSize)sizePane(e,s.minSize,n,r,!0);else if(a&&s.isVisible&&u.is(":visible")){var c=o.side.toLowerCase(),h=s.size+sC["inset"+o.side];$.layout.cssNum(a,c)!=h&&a.css(c,h)}s.noRoom&&(s.wasOpen&&i.closable?i.autoReopen?open(e,!1,!0,!0):s.noRoom=!1:show(e,s.wasOpen,!0,!0))}else s.noRoom||(s.noRoom=!0,s.wasOpen=!s.isClosed&&!s.isSliding,s.isClosed||(i.closable?close(e,!0,!0):hide(e,!0)))},manualSizePane=function(e,t,n,r){if(!isInitialized())return;var i=evtPane.call(this,e),s=options[i],o=state[i],u=s.livePaneResizing&&!o.isResizing;s.autoResize=!1,sizePane(i,t,n,u,r)},sizePane=function(e,t,n,r,i){function g(){var e=c==="width"?a.outerWidth():a.outerHeight(),i=[{pane:s,count:1,target:t,actual:e,correct:t===e,attempt:t,cssSize:m}],o=i[0],d="Inaccurate size after resizing the "+s+"-pane.";while(!o.correct){thisTry={pane:s,count:o.count+1,target:t},o.actual>t?thisTry.attempt=max(0,o.attempt-(o.actual-t)):thisTry.attempt=max(0,o.attempt+(t-o.actual)),thisTry.cssSize=cssSize(s,thisTry.attempt),a.css(c,thisTry.cssSize),thisTry.actual=c=="width"?a.outerWidth():a.outerHeight(),thisTry.correct=t===thisTry.actual,i.length===1&&(_log(d,!1,!0),_log(o,!1,!0)),_log(thisTry,!1,!0);if(i.length>3)break;i.push(thisTry),o=i[i.length-1]}u.size=t,$.extend(u,elDims(a)),u.isVisible&&a.is(":visible")&&(f&&f.css(l,t+sC[h]),sizeContent(s)),!n&&!p&&state.initialized&&u.isVisible&&_runCallbacks("onresize_end",s),n||(u.isSliding||sizeMidPanes(_c[s].dir=="horz"?"":"center",p,r),sizeHandles());var g=_c.oppositeEdge[s];t<v&&state[g].noRoom&&(setSizeLimits(g),makePaneFit(g,!1,n)),i.length>1&&_log(d+"\nSee the Error Console for details.",!0,!0)}if(!isInitialized())return;var s=evtPane.call(this,e),o=options[s],u=state[s],a=$Ps[s],f=$Rs[s],l=_c[s].side.toLowerCase(),c=_c[s].sizeType.toLowerCase(),h="inset"+_c[s].side,p=u.isResizing&&!o.triggerEventsDuringLiveResize,d=i!==!0&&o.animatePaneSizing,v,m;$N.queue(function(e){setSizeLimits(s),v=u.size,t=_parseSize(s,t),t=max(t,_parseSize(s,o.minSize)),t=min(t,u.maxSize);if(t<u.minSize){e(),makePaneFit(s,!1,n);return}if(!r&&t===v)return e();!n&&state.initialized&&u.isVisible&&_runCallbacks("onresize_start",s),m=cssSize(s,t);if(d&&a.is(":visible")){var i=$.layout.effects.size[s]||$.layout.effects.size.all,f=o.fxSettings_size.easing||i.easing,l=options.zIndexes,h={};h[c]=m+"px",u.isMoving=!0,a.css({zIndex:l.pane_animate}).show().animate(h,o.fxSpeed_size,f,function(){a.css({zIndex:u.isSliding?l.pane_sliding:l.pane_normal}),u.isMoving=!1,g(),e()})}else a.css(c,m),a.is(":visible")?g():(u.size=t,$.extend(u,elDims(a))),e()})},sizeMidPanes=function(e,t,n){e=(e?e:"east,west,center").split(","),$.each(e,function(e,r){if(!$Ps[r])return;var i=options[r],s=state[r],o=$Ps[r],u=$Rs[r],a=r=="center",f=!0,l={},c=calcNewCenterPaneDims();$.extend(s,elDims(o));if(r==="center"){if(!n&&s.isVisible&&c.width===s.outerWidth&&c.height===s.outerHeight)return!0;$.extend(s,cssMinDims(r),{maxWidth:c.width,maxHeight:c.height}),l=c,l.width=cssW(o,l.width),l.height=cssH(o,l.height),f=l.width>=0&&l.height>=0;if(!state.initialized&&i.minWidth>s.outerWidth){var h=i.minWidth-s.outerWidth,p=options.east.minSize||0,d=options.west.minSize||0,v=state.east.size,m=state.west.size,g=v,y=m;h>0&&state.east.isVisible&&v>p&&(g=max(v-p,v-h),h-=v-g),h>0&&state.west.isVisible&&m>d&&(y=max(m-d,m-h),h-=m-y);if(h===0){v&&v!=p&&sizePane("east",g,!0,n,!0),m&&m!=d&&sizePane("west",y,!0,n,!0),sizeMidPanes("center",t,n);return}}}else{s.isVisible&&!s.noVerticalRoom&&$.extend(s,elDims(o),cssMinDims(r));if(!n&&!s.noVerticalRoom&&c.height===s.outerHeight)return!0;l.top=c.top,l.bottom=c.bottom,l.height=cssH(o,c.height),s.maxHeight=l.height,f=s.maxHeight>=0,f||(s.noVerticalRoom=!0)}f?(!t&&state.initialized&&_runCallbacks("onresize_start",r),o.css(l),r!=="center"&&sizeHandles(r),s.noRoom&&!s.isClosed&&!s.isHidden&&makePaneFit(r),s.isVisible&&($.extend(s,elDims(o)),state.initialized&&sizeContent(r))):!s.noRoom&&s.isVisible&&makePaneFit(r);if(!s.isVisible)return!0;if(r==="center"){var b=browser.isIE6||!browser.boxModel;$Ps.north&&(b||state.north.tagName=="IFRAME")&&$Ps.north.css("width",cssW($Ps.north,sC.innerWidth)),$Ps.south&&(b||state.south.tagName=="IFRAME")&&$Ps.south.css("width",cssW($Ps.south,sC.innerWidth))}!t&&state.initialized&&_runCallbacks("onresize_end",r)})},resizeAll=function(e){evtPane(e);if(!state.initialized){_initLayoutElements();return}var t=sC.innerWidth,n=sC.innerHeight;if(!$N.is(":visible"))return;$.extend(state.container,elDims($N));if(!sC.outerHeight)return;if(!1===_runCallbacks("onresizeall_start"))return!1;var r=sC.innerHeight<n,i=sC.innerWidth<t,s,o,u,a;$.each(["south","north","east","west"],function(e,t){if(!$Ps[t])return;u=state[t],o=options[t],a=_c[t].dir,o.autoResize&&u.size!=o.size?sizePane(t,o.size,!0,!0,!0):(setSizeLimits(t),makePaneFit(t,!1,!0,!0))}),sizeMidPanes("",!0,!0),sizeHandles(),o=options,$.each(_c.allPanes,function(e,t){s=$Ps[t];if(!s)return;state[t].isVisible&&_runCallbacks("onresize_end",t)}),_runCallbacks("onresizeall_end")},resizeChildLayout=function(e){var t=evtPane.call(this,e);if(!options[t].resizeChildLayout)return;var n=$Ps[t],r=$Cs[t],i="layout",s=Instance[t],o=children[t];if(s.child&&!o){var u=s.child.container;o=children[t]=(u?u.data(i):0)||null}o&&o.destroyed&&(o=children[t]=null),o||(o=children[t]=n.data(i)||(r?r.data(i):0)||null),s.child=children[t],o&&o.resizeAll()},sizeContent=function(e,t){if(!isInitialized())return;var n=evtPane.call(this,e);n=n?n.split(","):_c.allPanes,$.each(n,function(e,n){function f(e){return max(o.css.paddingBottom,parseInt(e.css("marginBottom"),10)||0)}function l(){var e=options[n].contentIgnoreSelector,t=i.nextAll().not(e||":lt(0)"),r=t.filter(":visible"),s=r.filter(":last");u={top:i[0].offsetTop,height:i.outerHeight(),numFooters:t.length,hiddenFooters:t.length-r.length,spaceBelow:0},u.spaceAbove=u.top,u.bottom=u.top+u.height,s.length?u.spaceBelow=s[0].offsetTop+s.outerHeight()-u.bottom+f(s):u.spaceBelow=f(i)}var r=$Ps[n],i=$Cs[n],s=options[n],o=state[n],u=o.content;if(!r||!i||!r.is(":visible"))return!0;if(!i.length){initContent(n,!1);if(!i)return}if(!1===_runCallbacks("onsizecontent_start",n))return;if(!o.isMoving&&!o.isResizing||s.liveContentResizing||t||u.top==undefined)l(),u.hiddenFooters>0&&r.css("overflow")==="hidden"&&(r.css("overflow","visible"),l(),r.css("overflow","hidden"));var a=o.innerHeight-(u.spaceAbove-o.css.paddingTop)-(u.spaceBelow-o.css.paddingBottom);if(!i.is(":visible")||u.height!=a)setOuterHeight(i,a,!0),u.height=a;state.initialized&&_runCallbacks("onsizecontent_end",n)})},sizeHandles=function(e){var t=evtPane.call(this,e);t=t?t.split(","):_c.borderPanes,$.each(t,function(e,t){var n=options[t],r=state[t],i=$Ps[t],s=$Rs[t],o=$Ts[t],u;if(!i||!s)return;var a=_c[t].dir,f=r.isClosed?"_closed":"_open",l=n["spacing"+f],c=n["togglerAlign"+f],h=n["togglerLength"+f],p,d,v,m={};if(l===0){s.hide();return}!r.noRoom&&!r.isHidden&&s.show(),a==="horz"?(p=sC.innerWidth,r.resizerLength=p,d=$.layout.cssNum(i,"left"),s.css({width:cssW(s,p),height:cssH(s,l),left:d>-9999?d:sC.insetLeft})):(p=i.outerHeight(),r.resizerLength=p,s.css({height:cssH(s,p),width:cssW(s,l),top:sC.insetTop+getPaneSize("north",!0)})),removeHover(n,s);if(o){if(h===0||r.isSliding&&n.hideTogglerOnSlide){o.hide();return}o.show();if(!(h>0)||h==="100%"||h>p)h=p,v=0;else if(isStr(c))switch(c){case"top":case"left":v=0;break;case"bottom":case"right":v=p-h;break;case"middle":case"center":default:v=round((p-h)/2)}else{var g=parseInt(c,10);c>=0?v=g:v=p-h+g}if(a==="horz"){var y=cssW(o,h);o.css({width:y,height:cssH(o,l),left:v,top:0}),o.children(".content").each(function(){u=$(this),u.css("marginLeft",round((y-u.outerWidth())/2))})}else{var b=cssH(o,h);o.css({height:b,width:cssW(o,l),top:v,left:0}),o.children(".content").each(function(){u=$(this),u.css("marginTop",round((b-u.outerHeight())/2))})}removeHover(0,o)}!state.initialized&&(n.initHidden||r.noRoom)&&(s.hide(),o&&o.hide())})},enableClosable=function(e){if(!isInitialized())return;var t=evtPane.call(this,e),n=$Ts[t],r=options[t];if(!n)return;r.closable=!0,n.bind("click."+sID,function(e){e.stopPropagation(),toggle(t)}).css("visibility","visible").css("cursor","pointer").attr("title",state[t].isClosed?r.tips.Open:r.tips.Close).show()},disableClosable=function(e,t){if(!isInitialized())return;var n=evtPane.call(this,e),r=$Ts[n];if(!r)return;options[n].closable=!1,state[n].isClosed&&open(n,!1,!0),r.unbind("."+sID).css("visibility",t?"hidden":"visible").css("cursor","default").attr("title","")},enableSlidable=function(e){if(!isInitialized())return;var t=evtPane.call(this,e),n=$Rs[t];if(!n||!n.data("draggable"))return;options[t].slidable=!0,state[t].isClosed&&bindStartSlidingEvent(t,!0)},disableSlidable=function(e){if(!isInitialized())return;var t=evtPane.call(this,e),n=$Rs[t];if(!n)return;options[t].slidable=!1,state[t].isSliding?close(t,!1,!0):(bindStartSlidingEvent(t,!1),n.css("cursor","default").attr("title",""),removeHover(null,n[0]))},enableResizable=function(e){if(!isInitialized())return;var t=evtPane.call(this,e),n=$Rs[t],r=options[t];if(!n||!n.data("draggable"))return;r.resizable=!0,n.draggable("enable"),state[t].isClosed||n.css("cursor",r.resizerCursor).attr("title",r.tips.Resize)},disableResizable=function(e){if(!isInitialized())return;var t=evtPane.call(this,e),n=$Rs[t];if(!n||!n.data("draggable"))return;options[t].resizable=!1,n.draggable("disable").css("cursor","default").attr("title",""),removeHover(null,n[0])},swapPanes=function(e,t){function o(e){var t=$Ps[e],n=$Cs[e];return t?{pane:e,P:t?t[0]:!1,C:n?n[0]:!1,state:$.extend(!0,{},state[e]),options:$.extend(!0,{},options[e])}:!1}function u(e,t){if(!e)return;var n=e.P,r=e.C,i=e.pane,o=_c[t],u=o.side.toLowerCase(),a="inset"+o.side,f=$.extend(!0,{},state[t]),l=options[t],c={resizerCursor:l.resizerCursor},h,p,d;$.each("fxName,fxSpeed,fxSettings".split(","),function(e,t){c[t+"_open"]=l[t+"_open"],c[t+"_close"]=l[t+"_close"],c[t+"_size"]=l[t+"_size"]}),$Ps[t]=$(n).data({layoutPane:Instance[t],layoutEdge:t}).css(_c.hidden).css(o.cssReq),$Cs[t]=r?$(r):!1,options[t]=$.extend(!0,{},e.options,c),state[t]=$.extend(!0,{},e.state),h=new RegExp(l.paneClass+"-"+i,"g"),n.className=n.className.replace(h,l.paneClass+"-"+t),initHandles(t),o.dir!=_c[i].dir?(p=s[t]||0,setSizeLimits(t),p=max(p,state[t].minSize),manualSizePane(t,p,!0,!0)):$Rs[t].css(u,sC[a]+(state[t].isVisible?getPaneSize(t):0)),e.state.isVisible&&!f.isVisible?setAsOpen(t,!0):(setAsClosed(t),bindStartSlidingEvent(t,!0)),e=null}if(!isInitialized())return;var n=evtPane.call(this,e);state[n].edge=t,state[t].edge=n;if(!1===_runCallbacks("onswap_start",n)||!1===_runCallbacks("onswap_start",t)){state[n].edge=n,state[t].edge=t;return}var r=o(n),i=o(t),s={};s[n]=r?r.state.size:0,s[t]=i?i.state.size:0,$Ps[n]=!1,$Ps[t]=!1,state[n]={},state[t]={},$Ts[n]&&$Ts[n].remove(),$Ts[t]&&$Ts[t].remove(),$Rs[n]&&$Rs[n].remove(),$Rs[t]&&$Rs[t].remove(),$Rs[n]=$Rs[t]=$Ts[n]=$Ts[t]=!1,u(r,t),u(i,n),r=i=s=null,$Ps[n]&&$Ps[n].css(_c.visible),$Ps[t]&&$Ps[t].css(_c.visible),resizeAll(),_runCallbacks("onswap_end",n),_runCallbacks("onswap_end",t);return},syncPinBtns=function(e,t){$.layout.plugins.buttons&&$.each(state[e].pins,function(n,r){$.layout.buttons.setPinState(Instance,$(r),e,t)})},$N=$(this).eq(0);if(!$N.length)return _log(options.errors.containerMissing);if($N.data("layoutContainer")&&$N.data("layout"))return $N.data("layout");var $Ps={},$Cs={},$Rs={},$Ts={},$Ms=$([]),sC=state.container,sID=state.id,Instance={options:options,state:state,container:$N,panes:$Ps,contents:$Cs,resizers:$Rs,togglers:$Ts,hide:hide,show:show,toggle:toggle,open:open,close:close,slideOpen:slideOpen,slideClose:slideClose,slideToggle:slideToggle,setSizeLimits:setSizeLimits,_sizePane:sizePane,sizePane:manualSizePane,sizeContent:sizeContent,swapPanes:swapPanes,showMasks:showMasks,hideMasks:hideMasks,initContent:initContent,addPane:addPane,removePane:removePane,createChildLayout:createChildLayout,enableClosable:enableClosable,disableClosable:disableClosable,enableSlidable:enableSlidable,disableSlidable:disableSlidable,enableResizable:enableResizable,disableResizable:disableResizable,allowOverflow:allowOverflow,resetOverflow:resetOverflow,destroy:destroy,initPanes:isInitialized,resizeAll:resizeAll,runCallbacks:_runCallbacks,hasParentLayout:!1,children:children,north:!1,south:!1,west:!1,east:!1,center:!1};return _create()==="cancel"?null:Instance},$(function(){var e=$.layout.browser;e.msie&&(e.boxModel=$.support.boxModel)}),$.ui||($.ui={}),$.ui.cookie={acceptsCookies:!!navigator.cookieEnabled,read:function(e){var t=document.cookie,n=t?t.split(";"):[],r;for(var i=0,s=n.length;i<s;i++){r=$.trim(n[i]).split("=");if(r[0]==e)return decodeURIComponent(r[1])}return null},write:function(e,t,n){var r="",i="",s=!1,o=n||{},u=o.expires;if(u&&u.toUTCString)i=u;else if(u===null||typeof u=="number")i=new Date,u>0?i.setDate(i.getDate()+u):(i.setFullYear(1970),s=!0);i&&(r+=";expires="+i.toUTCString()),o.path&&(r+=";path="+o.path),o.domain&&(r+=";domain="+o.domain),o.secure&&(r+=";secure"),document.cookie=e+"="+(s?"":encodeURIComponent(t))+r},clear:function(e){$.ui.cookie.write(e,"",{expires:-1})}},$.cookie||($.cookie=function(e,t,n){var r=$.ui.cookie;if(t===null)r.clear(e);else{if(t===undefined)return r.read(e);r.write(e,t,n)}}),$.layout.plugins.stateManagement=!0,$.layout.config.optionRootKeys.push("stateManagement"),$.layout.defaults.stateManagement={enabled:!1,autoSave:!0,autoLoad:!0,stateKeys:"north.size,south.size,east.size,west.size,north.isClosed,south.isClosed,east.isClosed,west.isClosed,north.isHidden,south.isHidden,east.isHidden,west.isHidden",cookie:{name:"",domain:"",path:"",expires:"",secure:!1}},$.layout.optionsMap.layout.push("stateManagement"),$.layout.state={saveCookie:function(e,t,n){var r=e.options,i=r.stateManagement,s=$.extend(!0,{},i.cookie,n||null),o=e.state.stateData=e.readState(t||i.stateKeys);return $.ui.cookie.write(s.name||r.name||"Layout",$.layout.state.encodeJSON(o),s),$.extend(!0,{},o)},deleteCookie:function(e){var t=e.options;$.ui.cookie.clear(t.stateManagement.cookie.name||t.name||"Layout")},readCookie:function(e){var t=e.options,n=$.ui.cookie.read(t.stateManagement.cookie.name||t.name||"Layout");return n?$.layout.state.decodeJSON(n):{}},loadCookie:function(e){var t=$.layout.state.readCookie(e);return t&&(e.state.stateData=$.extend(!0,{},t),e.loadState(t)),t},loadState:function(e,t,n){t=$.layout.transformData(t);if($.isEmptyObject(t))return;$.extend(!0,e.options,t);if(e.state.initialized){var r,i,s,o,u,a,f=n===!1;$.each($.layout.config.borderPanes,function(n,r){state=e.state[r],s=t[r];if(typeof s!="object")return;o=s.size,a=s.initClosed,u=s.initHidden,i=state.isVisible,i||e.sizePane(r,o,!1,!1),u===!0?e.hide(r,f):a===!1?e.open(r,!1,f):a===!0?e.close(r,!1,f):u===!1&&e.show(r,!1,f),i&&e.sizePane(r,o,!1,f)})}},readState:function(e,t){var n={},r={isClosed:"initClosed",isHidden:"initHidden"},i=e.state,s=$.layout.config.allPanes,o,u,a,f;t||(t=e.options.stateManagement.stateKeys),$.isArray(t)&&(t=t.join(",")),t=t.replace(/__/g,".").split(",");for(var l=0,c=t.length;l<c;l++){o=t[l].split("."),u=o[0],a=o[1];if($.inArray(u,s)<0)continue;f=i[u][a];if(f==undefined)continue;a=="isClosed"&&i[u].isSliding&&(f=!0),(n[u]||(n[u]={}))[r[a]?r[a]:a]=f}return n},encodeJSON:function(e){function t(e){var n=[],r=0,i,s,o;for(i in e)s=e[i],o=typeof s,o=="string"?s='"'+s+'"':o=="object"&&(s=t(s)),n[r++]='"'+i+'":'+s;return"{"+n.join(",")+"}"}return t(e)},decodeJSON:function(e){try{return $.parseJSON?$.parseJSON(e):window.eval("("+e+")")||{}}catch(t){return{}}},_create:function(e){var t=$.layout.state;$.extend(e,{readCookie:function(){return t.readCookie(e)},deleteCookie:function(){t.deleteCookie(e)},saveCookie:function(n,r){return t.saveCookie(e,n,r)},loadCookie:function(){return t.loadCookie(e)},loadState:function(n,r){t.loadState(e,n,r)},readState:function(n){return t.readState(e,n)},encodeJSON:t.encodeJSON,decodeJSON:t.decodeJSON}),e.state.stateData={};var n=e.options.stateManagement;n.enabled&&(n.autoLoad?e.loadCookie():e.state.stateData=e.readCookie())},_unload:function(e){var t=e.options.stateManagement;t.enabled&&(t.autoSave?e.saveCookie():e.state.stateData=e.readState())}},$.layout.onCreate.push($.layout.state._create),$.layout.onUnload.push($.layout.state._unload),$.layout.plugins.buttons=!0,$.layout.defaults.autoBindCustomButtons=!1,$.layout.optionsMap.layout.push("autoBindCustomButtons"),$.layout.buttons={init:function(e){var t="ui-layout-button-",n=e.options.name||"",r;$.each("toggle,open,close,pin,toggle-slide,open-slide".split(","),function(i,s){$.each($.layout.config.borderPanes,function(i,o){$("."+t+s+"-"+o).each(function(){r=$(this).data("layoutName")||$(this).attr("layoutName"),(r==undefined||r===n)&&e.bindButton(this,s,o)})})})},get:function(e,t,n,r){var i=$(t),s=e.options,o=s.errors.addButtonError;if(!i.length)$.layout.msg(o+" "+s.errors.selector+": "+t,!0);else if($.inArray(n,$.layout.config.borderPanes)<0)$.layout.msg(o+" "+s.errors.pane+": "+n,!0),i=$("");else{var u=s[n].buttonClass+"-"+r;i.addClass(u+" "+u+"-"+n).data("layoutName",s.name)}return i},bind:function(e,t,n,r){var i=$.layout.buttons;switch(n.toLowerCase()){case"toggle":i.addToggle(e,t,r);break;case"open":i.addOpen(e,t,r);break;case"close":i.addClose(e,t,r);break;case"pin":i.addPin(e,t,r);break;case"toggle-slide":i.addToggle(e,t,r,!0);break;case"open-slide":i.addOpen(e,t,r,!0)}return e},addToggle:function(e,t,n,r){return $.layout.buttons.get(e,t,n,"toggle").click(function(t){e.toggle(n,!!r),t.stopPropagation()}),e},addOpen:function(e,t,n,r){return $.layout.buttons.get(e,t,n,"open").attr("title",e.options[n].tips.Close).click(function(t){e.open(n,!!r),t.stopPropagation()}),e},addClose:function(e,t,n){return $.layout.buttons.get(e,t,n,"close").attr("title",e.options[n].tips.Open).click(function(t){e.close(n),t.stopPropagation()}),e},addPin:function(e,t,n){var r=$.layout.buttons,i=r.get(e,t,n,"pin");if(i.length){var s=e.state[n];i.click(function(t){r.setPinState(e,$(this),n,s.isSliding||s.isClosed),s.isSliding||s.isClosed?e.open(n):e.close(n),t.stopPropagation()}),r.setPinState(e,i,n,!s.isClosed&&!s.isSliding),s.pins.push(t)}return e},setPinState:function(e,t,n,r){var i=t.attr("pin");if(i&&r===(i=="down"))return;var s=e.options[n],o=s.buttonClass+"-pin",u=o+"-"+n,a=o+"-up "+u+"-up",f=o+"-down "+u+"-down";t.attr("pin",r?"down":"up").attr("title",r?s.tips.Unpin:s.tips.Pin).removeClass(r?a:f).addClass(r?f:a)},syncPinBtns:function(e,t,n){$.each(e.state[t].pins,function(r,i){$.layout.buttons.setPinState(e,$(i),t,n)})},_load:function(e){var t=$.layout.buttons;$.extend(e,{bindButton:function(n,r,i){return t.bind(e,n,r,i)},addToggleBtn:function(n,r,i){return t.addToggle(e,n,r,i)},addOpenBtn:function(n,r,i){return t.addOpen(e,n,r,i)},addCloseBtn:function(n,r){return t.addClose(e,n,r)},addPinBtn:function(n,r){return t.addPin(e,n,r)}});for(var n=0;n<4;n++){var r=$.layout.config.borderPanes[n];e.state[r].pins=[]}e.options.autoBindCustomButtons&&t.init(e)},_unload:function(e){}},$.layout.onLoad.push($.layout.buttons._load),$.layout.plugins.browserZoom=!0,$.layout.defaults.browserZoomCheckInterval=1e3,$.layout.optionsMap.layout.push("browserZoomCheckInterval"),$.layout.browserZoom={_init:function(e){$.layout.browserZoom.ratio()!==!1&&$.layout.browserZoom._setTimer(e)},_setTimer:function(e){if(e.destroyed)return;var t=e.options,n=e.state,r=e.hasParentLayout?5e3:Math.max(t.browserZoomCheckInterval,100);setTimeout(function(){if(e.destroyed||!t.resizeWithWindow)return;var r=$.layout.browserZoom.ratio();r!==n.browserZoom&&(n.browserZoom=r,e.resizeAll()),$.layout.browserZoom._setTimer(e)},r)},ratio:function(){function f(e,t){return(parseInt(e,10)/parseInt(t,10)*100).toFixed()}var e=window,t=screen,n=document,r=n.documentElement||n.body,i=$.layout.browser,s=i.version,o,u,a;return i.msie&&s>8||!i.msie?!1:t.deviceXDPI?f(t.deviceXDPI,t.systemXDPI):i.webkit&&(o=n.body.getBoundingClientRect)?f(o.left-o.right,n.body.offsetWidth):i.webkit&&(u=e.outerWidth)?f(u,e.innerWidth):(u=t.width)&&(a=r.clientWidth)?f(u,a):!1}},$.layout.onReady.push($.layout.browserZoom._init)})(jQuery)